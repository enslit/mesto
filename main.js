(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const t=function(){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._selector=n,this._callbackClickImage=r.handleClickImage,this._callbackDeleteCard=r.handleClickDelete,this._callbackClickLike=r.handleClickLike,this._id=e._id,this._name=e.name,this._link=e.link,this._likes=e.likes,this._isLiked=this._checkIsLiked(r.userId,e),this._canDelete=this._checkCanDelete(r.userId,e),this._initElements()}var n,r;return n=t,(r=[{key:"_initElements",value:function(){this._cardElement=this._getTemplate(),this._title=this._cardElement.querySelector(".card__title"),this._deleteButton=this._cardElement.querySelector(".btn_type_delete"),this._likeCount=this._cardElement.querySelector(".card__like-cnt"),this._likeButton=this._cardElement.querySelector(".btn_type_like"),this._image=this._cardElement.querySelector(".card__image")}},{key:"_getTemplate",value:function(){return document.querySelector(this._selector).content.cloneNode(!0)}},{key:"_checkCanDelete",value:function(e,t){return!!t.hasOwnProperty("owner")&&e===t.owner._id}},{key:"_checkIsLiked",value:function(e,t){return!!t.hasOwnProperty("likes")&&t.likes.some((function(t){return t._id===e}))}},{key:"renderCountLikes",value:function(e){this._likeCount.textContent=e.length||""}},{key:"toggleLike",value:function(){this._isLiked=!this._isLiked,this._likeButton.classList.toggle("btn_type_like-active")}},{key:"_handleLikeCard",value:function(){var e={id:this._id,isLiked:this._isLiked};this._callbackClickLike(e,this)}},{key:"_handleDeleteCard",value:function(e){var t=e.target.closest(".cards__list-item");this._callbackDeleteCard(this._id,t)}},{key:"_handlePreviewPicture",value:function(){var e={link:this._link,title:this._name};this._callbackClickImage(e)}},{key:"_setListeners",value:function(){this._likeButton.addEventListener("click",this._handleLikeCard.bind(this)),this._image.addEventListener("click",this._handlePreviewPicture.bind(this)),this._canDelete&&this._deleteButton.addEventListener("click",this._handleDeleteCard.bind(this))}},{key:"getCard",value:function(){return this._canDelete&&this._deleteButton.classList.remove("card__delete_hidden"),this._title.textContent=this._name,this._image.src=this._link,this._image.alt=this._name,this._isLiked&&this._likeButton.classList.add("btn_type_like-active"),this.renderCountLikes(this._likes),this._setListeners(this._cardElement),this._cardElement}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=n,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._inactiveButtonClass=t.inactiveButtonClass,this._submitButton=n.querySelector(t.submitButtonSelector),this._inputs=Array.from(n.querySelectorAll(t.inputSelector))}var t,r;return t=e,(r=[{key:"_showInputError",value:function(e){var t=this._getElementError(e.id);e.classList.add(this._inputErrorClass),t.classList.add(this._errorClass),t.textContent=e.validationMessage}},{key:"_hideInputError",value:function(e){var t=this._getElementError(e.id);e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_getElementError",value:function(e){return this._formElement.querySelector(".".concat(e,"-error"))}},{key:"_checkValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hasInvalidInput",value:function(){return this._inputs.some((function(e){return!e.validity.valid}))}},{key:"toggleButtonState",value:function(){this._hasInvalidInput(this._inputs)?(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0):(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1)}},{key:"_setListeners",value:function(){var e=this;this._inputs.forEach((function(t){t.addEventListener("input",(function(){e._checkValidity(t),e.toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this.toggleButtonState(),this._setListeners()}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._KEY_ESC="Escape"}var t,n;return t=e,(n=[{key:"_handleClickPopup",value:function(e){var t=e.target;(t.classList.contains("btn_type_close")||t.classList.contains("popup"))&&this.close()}},{key:"_handlePressEsc",value:function(e){e.key===this._KEY_ESC&&this.close()}},{key:"setListenersPopup",value:function(){this._handleClickPopup=this._handleClickPopup.bind(this),this._handlePressEsc=this._handlePressEsc.bind(this),this._popup.addEventListener("click",this._handleClickPopup,!0),document.addEventListener("keydown",this._handlePressEsc)}},{key:"removeListenersPopup",value:function(){this._popup.removeEventListener("click",this._handleClickPopup),document.removeEventListener("keydown",this._handlePressEsc)}},{key:"open",value:function(){this.setListenersPopup(),this._popup.classList.add("popup_opened")}},{key:"close",value:function(){this.removeListenersPopup(),this._popup.classList.remove("popup_opened")}},{key:"getElement",value:function(){return this._popup}}])&&o(t.prototype,n),e}();function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function a(e,t){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e))._form=f((n=l(r),h(a.prototype)),"getElement",n).call(n).querySelector(".form"),r._submitButton=r._form.querySelector(".form__save"),r._cb=t,r}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return Array.from(this._form.querySelectorAll(".form__input")).forEach((function(t){e[t.name]=t.value})),e}},{key:"setLoading",value:function(e){this._submitButton.textContent=e?"Сохранение...":"Сохранить"}},{key:"setInitValues",value:function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=this._form.querySelector(".form__input_type_".concat(t));n&&(n.value=e[t])}}},{key:"_handleSubmitForm",value:function(e){e.preventDefault(),this.setLoading(!0),this._cb(this._getInputValues())}},{key:"setListenersPopup",value:function(){f(h(a.prototype),"setListenersPopup",this).call(this),this._handleSubmitForm=this._handleSubmitForm.bind(this),this._form.addEventListener("submit",this._handleSubmitForm)}},{key:"removeListenersPopup",value:function(){f(h(a.prototype),"removeListenersPopup",this).call(this),this._form.removeEventListener("submit",this._handleSubmitForm)}},{key:"close",value:function(){f(h(a.prototype),"close",this).call(this),this._form.reset()}}])&&u(t.prototype,n),a}(i);function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._containerElement=document.querySelector(n),this._items=r,this._renderer=o}var t,n;return t=e,(n=[{key:"setItems",value:function(e){this._items=e}},{key:"addItem",value:function(e){this._containerElement.prepend(e)}},{key:"renderElements",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}}])&&_(t.prototype,n),e}();function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(r);if(o){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,e))._imgPreview=g((t=k(r),E(a.prototype)),"getElement",t).call(t).querySelector(".popup__image"),r._signPreview=g((n=k(r),E(a.prototype)),"getElement",n).call(n).querySelector(".popup__sign"),r}return t=a,(n=[{key:"open",value:function(e){var t=e.link,n=e.title;this._imgPreview.src=t,this._imgPreview.alt=n,this._signPreview.textContent=n,g(E(a.prototype),"open",this).call(this)}}])&&v(t.prototype,n),a}(i);function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t.name),this._about=document.querySelector(t.about),this._avatarUrl=document.querySelector(t.avatar),this._id=null}var t,n;return t=e,(n=[{key:"getId",value:function(){return this._id}},{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent,avatar:this._avatarUrl.src,_id:this._id}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._about.textContent=e.about,this._avatarUrl.src=e.avatar,this._id=e._id}}])&&C(t.prototype,n),e}();function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="".concat(this._baseUrl,"/").concat(e),o={method:t,headers:this._headers};return n&&(o.body=JSON.stringify(n)),fetch(r,o).then((function(e){return e.ok?e.json():Promise.reject({statusCode:e.status,message:e.statusText})}))}},{key:"getMe",value:function(){return this._fetch("users/me")}},{key:"getInitialCards",value:function(){return this._fetch("cards")}},{key:"updateProfile",value:function(e){return this._fetch("users/me","PATCH",e)}},{key:"postCard",value:function(e){return this._fetch("cards","POST",e)}},{key:"delete",value:function(e){return this._fetch("cards/".concat(e),"DELETE")}},{key:"like",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._fetch("cards/likes/".concat(e),t?"PUT":"DELETE")}},{key:"updateAvatar",value:function(e){return this._fetch("users/me/avatar","PATCH",e)}}])&&L(t.prototype,n),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-21",headers:{authorization:"52186c90-0ae5-45bb-99b5-e4acaa2b939f","Content-Type":"application/json"}}),O={inputSelector:".form__input",submitButtonSelector:".form__save",inactiveButtonClass:"form__save_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_visible"},I=new S({name:".profile__name",about:".profile__about",avatar:".profile__avatar"}),j=new w(".popup_type_image"),B=document.querySelector(".btn_type_edit-profile"),q=document.querySelector(".btn_type_add-card"),R=document.querySelector(".profile__avatar-wrapper");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t,n){return(F="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(r);if(o){var n=V(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function a(e,t){var n,r,o,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(u=i.call(this,e))._callback=t,u._form=F((n=A(u),V(a.prototype)),"getElement",n).call(n).querySelector(".form"),u._idElement=F((r=A(u),V(a.prototype)),"getElement",r).call(r).querySelector(".form__input_type_id"),u._submitButton=F((o=A(u),V(a.prototype)),"getElement",o).call(o).querySelector(".form__save"),u}return t=a,(n=[{key:"_handleSubmitForm",value:function(e){e.preventDefault();var t=this._form.elements.id.value;this._callback(t,this._listItem)}},{key:"setLoading",value:function(e){this._submitButton.textContent=e?"Удаление...":"Да"}},{key:"setListenersPopup",value:function(){F(V(a.prototype),"setListenersPopup",this).call(this),this._handleSubmitForm=this._handleSubmitForm.bind(this),this._form.addEventListener("submit",this._handleSubmitForm)}},{key:"open",value:function(e,t){this._idElement.value=e,this._listItem=t,F(V(a.prototype),"open",this).call(this)}},{key:"close",value:function(){this._form.reset(),this._listItem=null,F(V(a.prototype),"close",this).call(this)}}])&&x(t.prototype,n),a}(i);function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K=function(e){return j.open(e)},N=function(e,t){return X.open(e,t)},Y=function(e,t){var n=e.id,r=e.isLiked;P.like(n,!r).then((function(e){var n=e.likes;t.toggleLike(),t.renderCountLikes(n)})).catch((function(e){return console.error(e)}))},z=function(e){return new t(e,"#cardTemplate",{userId:I.getId(),handleClickImage:K,handleClickDelete:N,handleClickLike:Y}).getCard()},G=function(e,t){var n=e.getElement().querySelector(".form"),o=new r(t,n);return o.enableValidation(),o},J=new y({renderer:function(e){var t=z(e);J.addItem(t)}},".cards__list"),$=new p(".popup_type_add-card",(function(e){P.postCard(e).then((function(e){J.addItem(z(e)),$.close()})).catch((function(e){console.error(e.message||e.toString())})).finally((function(){$.setLoading(!1)}))})),Q=new p(".popup_type_edit-profile",(function(e){P.updateProfile(e).then((function(e){I.setUserInfo(e),Q.close()})).catch((function(e){console.error(e.message||e.toString())})).finally((function(){Q.setLoading(!1)}))})),W=new p(".popup_type_update-profile",(function(e){P.updateAvatar(e).then((function(e){I.setUserInfo(e),W.close()})).catch((function(e){return console.error(e)})).finally((function(){return W.setLoading(!1)}))})),X=new M(".popup_type_delete",(function(e,t){X.setLoading(!0),P.delete(e).then((function(){t.remove(),X.close()})).catch((function(e){return console.error(e)})).finally((function(){return X.setLoading(!1)}))})),Z=G($,O),ee=G(Q,O),te=G(W,O);Promise.all([P.getMe(),P.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];I.setUserInfo(o),J.setItems(i.reverse()),J.renderElements()})).catch((function(e){console.error(e.message)})),B.addEventListener("click",(function(){Q.setInitValues(I.getUserInfo()),ee.toggleButtonState(),Q.open()})),q.addEventListener("click",(function(){Z.toggleButtonState(),$.open()})),R.addEventListener("click",(function(){te.toggleButtonState(),W.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9BcGkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJkYXRhIiwic2VsZWN0b3IiLCJvcHRpb25zIiwidGhpcyIsIl9zZWxlY3RvciIsIl9jYWxsYmFja0NsaWNrSW1hZ2UiLCJoYW5kbGVDbGlja0ltYWdlIiwiX2NhbGxiYWNrRGVsZXRlQ2FyZCIsImhhbmRsZUNsaWNrRGVsZXRlIiwiX2NhbGxiYWNrQ2xpY2tMaWtlIiwiaGFuZGxlQ2xpY2tMaWtlIiwiX2lkIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfaXNMaWtlZCIsIl9jaGVja0lzTGlrZWQiLCJ1c2VySWQiLCJfY2FuRGVsZXRlIiwiX2NoZWNrQ2FuRGVsZXRlIiwiX2luaXRFbGVtZW50cyIsIl9jYXJkRWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl90aXRsZSIsInF1ZXJ5U2VsZWN0b3IiLCJfZGVsZXRlQnV0dG9uIiwiX2xpa2VDb3VudCIsIl9saWtlQnV0dG9uIiwiX2ltYWdlIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZERhdGEiLCJoYXNPd25Qcm9wZXJ0eSIsIm93bmVyIiwic29tZSIsInVzZXIiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImlkIiwiaXNMaWtlZCIsImV2dCIsImxpc3RJdGVtIiwidGFyZ2V0IiwiY2xvc2VzdCIsInByZXZpZXdEYXRhIiwidGl0bGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VDYXJkIiwiYmluZCIsIl9oYW5kbGVQcmV2aWV3UGljdHVyZSIsIl9oYW5kbGVEZWxldGVDYXJkIiwicmVtb3ZlIiwic3JjIiwiYWx0IiwiYWRkIiwicmVuZGVyQ291bnRMaWtlcyIsIl9zZXRMaXN0ZW5lcnMiLCJzZWxlY3RvcnMiLCJmb3JtRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfc3VibWl0QnV0dG9uIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5wdXRzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJpbnB1dCIsImVycm9yIiwiX2dldEVsZW1lbnRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiaW5wdXRJZCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWQiLCJmb3JFYWNoIiwiX2NoZWNrVmFsaWRpdHkiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIlBvcHVwIiwiX3BvcHVwIiwiX0tFWV9FU0MiLCJjb250YWlucyIsImNsb3NlIiwia2V5IiwiX2hhbmRsZUNsaWNrUG9wdXAiLCJfaGFuZGxlUHJlc3NFc2MiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0TGlzdGVuZXJzUG9wdXAiLCJyZW1vdmVMaXN0ZW5lcnNQb3B1cCIsIlBvcHVwV2l0aEZvcm0iLCJjYWxsYmFja1N1Ym1pdCIsIl9mb3JtIiwiX2NiIiwidmFsdWVzIiwidmFsdWUiLCJzdGF0ZSIsImVsIiwicHJldmVudERlZmF1bHQiLCJzZXRMb2FkaW5nIiwiX2dldElucHV0VmFsdWVzIiwiX2hhbmRsZVN1Ym1pdEZvcm0iLCJyZXNldCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfY29udGFpbmVyRWxlbWVudCIsIl9pdGVtcyIsIl9yZW5kZXJlciIsImVsZW1lbnQiLCJwcmVwZW5kIiwiaXRlbSIsIlBvcHVwV2l0aEltYWdlIiwiX2ltZ1ByZXZpZXciLCJfc2lnblByZXZpZXciLCJVc2VySW5mbyIsIl9hYm91dCIsImFib3V0IiwiX2F2YXRhclVybCIsImF2YXRhciIsImFwaSIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsInVybCIsIm1ldGhvZCIsImJvZHkiLCJmZXRjaFVybCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzQ29kZSIsInN0YXR1cyIsIm1lc3NhZ2UiLCJzdGF0dXNUZXh0IiwiX2ZldGNoIiwiY2FyZCIsImxpa2UiLCJhdXRob3JpemF0aW9uIiwidXNlckluZm8iLCJwb3B1cFByZXZpZXdQaWN0dXJlIiwiYnV0dG9uRWRpdFByb2ZpbGUiLCJidXR0b25BZGRDYXJkIiwiUG9wdXBXaXRoQ29uZmlybSIsImNhbGxiYWNrIiwiX2NhbGxiYWNrIiwiX2lkRWxlbWVudCIsImVsZW1lbnRzIiwiX2xpc3RJdGVtIiwib3BlblByZXZpZXdQaWN0dXJlIiwib3BlbiIsIm9wZW5Db25maXJtRGVsZXRlIiwicG9wdXBXaWR0aENvbmZpcm0iLCJjYXJkQXBpIiwidG9nZ2xlTGlrZSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImNyZWF0ZUNhcmQiLCJDYXJkIiwiZ2V0SWQiLCJnZXRDYXJkIiwiZW5hYmxlVmFsaWRhdGlvbiIsInBvcHVwIiwiZm9ybSIsImdldEVsZW1lbnQiLCJ2YWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiY2FyZExpc3QiLCJhZGRJdGVtIiwicG9wdXBBZGRDYXJkIiwibmV3Q2FyZCIsInRvU3RyaW5nIiwiZmluYWxseSIsInBvcHVwRWRpdFByb2ZpbGUiLCJuZXdEYXRhIiwicG9wdXBVcGRhdGVBdmF0YXIiLCJ2YWxpZGF0b3JBZGRGb3JtIiwidmFsaWRhdG9yRWRpdFByb2ZpbGUiLCJ2YWxpZGF0b3JVcGRhdGVBdmF0YXIiLCJhbGwiLCJnZXRNZSIsImdldEluaXRpYWxDYXJkcyIsInVzZXJEYXRhIiwiaW5pdGlhbENhcmRzIiwic2V0SXRlbXMiLCJyZXZlcnNlIiwicmVuZGVyRWxlbWVudHMiLCJzZXRJbml0VmFsdWVzIiwiZ2V0VXNlckluZm8iXSwibWFwcGluZ3MiOiJ5TEEwSEEsUSxXQXJIRSxXQUFZQSxFQUFNQyxFQUFVQyxJLDRGQUFTLFNBQ25DQyxLQUFLQyxVQUFZSCxFQUVqQkUsS0FBS0Usb0JBQXNCSCxFQUFRSSxpQkFDbkNILEtBQUtJLG9CQUFzQkwsRUFBUU0sa0JBQ25DTCxLQUFLTSxtQkFBcUJQLEVBQVFRLGdCQUVsQ1AsS0FBS1EsSUFBTVgsRUFBS1csSUFDaEJSLEtBQUtTLE1BQVFaLEVBQUthLEtBQ2xCVixLQUFLVyxNQUFRZCxFQUFLZSxLQUNsQlosS0FBS2EsT0FBU2hCLEVBQUtpQixNQUVuQmQsS0FBS2UsU0FBV2YsS0FBS2dCLGNBQWNqQixFQUFRa0IsT0FBUXBCLEdBQ25ERyxLQUFLa0IsV0FBYWxCLEtBQUttQixnQkFBZ0JwQixFQUFRa0IsT0FBUXBCLEdBRXZERyxLQUFLb0IsZ0Isa0RBR1AsV0FDRXBCLEtBQUtxQixhQUFlckIsS0FBS3NCLGVBQ3pCdEIsS0FBS3VCLE9BQVN2QixLQUFLcUIsYUFBYUcsY0FBYyxnQkFDOUN4QixLQUFL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VHVHLE1BQUssV0FDTHBHLEVBQVNVLFNBQ1RxSCxFQUFrQjdFLFdBRWxCZ0YsT0FBTSxTQUFBQyxHQUFHLE9BQUlDLFFBQVFuRyxNQUFNa0csTUFDM0JpQixTQUFRLGtCQUFNckIsRUFBa0I3RCxZQUFXLFNBd0Z4Q3NGLEVBQW1CZixFQUFpQlEsRUFBY2pJLEdBQ2xEeUksR0FBdUJoQixFQUFpQlksRUFBa0JySSxHQUMxRDBJLEdBQXdCakIsRUFBaUJjLEVBQW1CdkksR0FHbEV3RixRQUFRbUQsSUFBSSxDQUNYbkUsRUFBSW9FLFFBQ0pwRSxFQUFJcUUsb0JBRUh6RCxNQUFLLFlBQThCLEksSUFBQSxHLEVBQUEsRSw0Q0FBQSxJLG93QkFBNUIwRCxFQUE0QixLQUFsQkMsRUFBa0IsS0FDbkM3QyxjQUFxQjRDLEdBQ3JCZixFQUFTaUIsU0FBU0QsRUFBYUUsV0FDL0JsQixFQUFTbUIsb0JBRVRoQyxPQUFNLFNBQUNDLEdBQ1BDLFFBQVFuRyxNQUFNa0csRUFBSXZCLFlBSXBCUSxFQUFrQi9HLGlCQUFpQixTQXRJWCxXQUN2QmdKLEVBQWlCYyxjQUFjakQsRUFBU2tELGVBQ3hDWCxHQUFxQjVHLG9CQUNyQndHLEVBQWlCeEIsVUFvSWxCUixFQUFjaEgsaUJBQWlCLFNBaElYLFdBQ25CbUosRUFBaUIzRyxvQkFDakJvRyxFQUFhcEIsVUErSGR0QyxFQUFPbEYsaUJBQWlCLFNBM0hDLFdBQ3hCcUosR0FBc0I3RyxvQkFDdEIwRyxFQUFrQjFCLFciLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAY2xhc3NcclxuICogQGNsYXNzZGVzYyDQmtC70LDRgdGBINGB0L7Qt9C00LDQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuCDRgSDQuNC30L7QsdGA0LDQttC10L3QuNC10LxcclxuICovXHJcbmNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIHNlbGVjdG9yLCBvcHRpb25zKSB7XHJcbiAgICB0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9yXHJcblxyXG4gICAgdGhpcy5fY2FsbGJhY2tDbGlja0ltYWdlID0gb3B0aW9ucy5oYW5kbGVDbGlja0ltYWdlXHJcbiAgICB0aGlzLl9jYWxsYmFja0RlbGV0ZUNhcmQgPSBvcHRpb25zLmhhbmRsZUNsaWNrRGVsZXRlXHJcbiAgICB0aGlzLl9jYWxsYmFja0NsaWNrTGlrZSA9IG9wdGlvbnMuaGFuZGxlQ2xpY2tMaWtlXHJcblxyXG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZFxyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZVxyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGlua1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzXHJcblxyXG4gICAgdGhpcy5faXNMaWtlZCA9IHRoaXMuX2NoZWNrSXNMaWtlZChvcHRpb25zLnVzZXJJZCwgZGF0YSkgLy8g0J/RgNC+0LLQtdGA0LrQsCDRg9GB0YLQsNC90L7QstC70LXQvSDQu9C4INC70LDQudC6INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gICAgdGhpcy5fY2FuRGVsZXRlID0gdGhpcy5fY2hlY2tDYW5EZWxldGUob3B0aW9ucy51c2VySWQsIGRhdGEpIC8vINCf0YDQvtCy0LXRgNC60LAg0L3QsCDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINGD0LTQsNC70LjRgtGMINC60LDRgNGC0L7Rh9C60YNcclxuXHJcbiAgICB0aGlzLl9pbml0RWxlbWVudHMoKSAvLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRjdC70LXQvNC10L3RgtC+0LJcclxuICB9XHJcblxyXG4gIF9pbml0RWxlbWVudHMoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKClcclxuICAgIHRoaXMuX3RpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX3RpdGxlJylcclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG5fdHlwZV9kZWxldGUnKVxyXG4gICAgdGhpcy5fbGlrZUNvdW50ID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UtY250JylcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuX3R5cGVfbGlrZScpXHJcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19pbWFnZScpXHJcbiAgfVxyXG5cclxuICAvLyDQktC+0LfQstGA0LDRidCw0LXRgiDQutC70L7QvSDRiNCw0LHQu9C+0L3QsFxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIHJldHVybiBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnRcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKVxyXG4gIH1cclxuXHJcbiAgX2NoZWNrQ2FuRGVsZXRlKHVzZXJJZCwgY2FyZERhdGEpIHtcclxuICAgIGlmIChjYXJkRGF0YS5oYXNPd25Qcm9wZXJ0eSgnb3duZXInKSkge1xyXG4gICAgICByZXR1cm4gdXNlcklkID09PSBjYXJkRGF0YS5vd25lci5faWRcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuXHJcbiAgX2NoZWNrSXNMaWtlZCh1c2VySWQsIGNhcmREYXRhKSB7XHJcbiAgICBpZiAoY2FyZERhdGEuaGFzT3duUHJvcGVydHkoJ2xpa2VzJykpIHtcclxuICAgICAgcmV0dXJuIGNhcmREYXRhLmxpa2VzLnNvbWUodXNlciA9PiB1c2VyLl9pZCA9PT0gdXNlcklkKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG5cclxuICAvLyDQntGC0YDQuNGB0L7QstC60LAg0LrQvtC70LjRh9C10YHRgtCy0LAg0LvQsNC50LrQvtCyXHJcbiAgcmVuZGVyQ291bnRMaWtlcyhsaWtlcykge1xyXG4gICAgdGhpcy5fbGlrZUNvdW50LnRleHRDb250ZW50ID0gbGlrZXMubGVuZ3RoIHx8ICcnXHJcbiAgfVxyXG5cclxuICB0b2dnbGVMaWtlKCkge1xyXG4gICAgdGhpcy5faXNMaWtlZCA9ICF0aGlzLl9pc0xpa2VkXHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2J0bl90eXBlX2xpa2UtYWN0aXZlJylcclxuICB9XHJcblxyXG4gIC8vINCh0LvRg9GI0LDRgtC10LvRjCDQutC70LjQutCwINC90LAg0LrQvdC+0L/QutGDINC70LDQudC6XHJcbiAgX2hhbmRsZUxpa2VDYXJkKCkge1xyXG4gICAgY29uc3QgY2FyZERhdGEgPSB7XHJcbiAgICAgIGlkOiB0aGlzLl9pZCxcclxuICAgICAgaXNMaWtlZDogdGhpcy5faXNMaWtlZFxyXG4gICAgfVxyXG4gICAgdGhpcy5fY2FsbGJhY2tDbGlja0xpa2UoY2FyZERhdGEsIHRoaXMpXHJcbiAgfVxyXG5cclxuICAvLyDQodC70YPRiNCw0YLQtdC70Ywg0LrQu9C40LrQsCDQvdCwINC60L3QvtC/0LrRgyDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuICBfaGFuZGxlRGVsZXRlQ2FyZChldnQpIHtcclxuICAgIGNvbnN0IGxpc3RJdGVtID0gZXZ0LnRhcmdldC5jbG9zZXN0KCcuY2FyZHNfX2xpc3QtaXRlbScpXHJcbiAgICB0aGlzLl9jYWxsYmFja0RlbGV0ZUNhcmQodGhpcy5faWQsIGxpc3RJdGVtKVxyXG4gIH1cclxuXHJcbiAgLy8g0KHQu9GD0YjQsNGC0LXQu9GMINC60LvQuNC60LAg0L3QsCDQuNC30L7QsdGA0LDQttC10L3QuNC1XHJcbiAgX2hhbmRsZVByZXZpZXdQaWN0dXJlKCkge1xyXG4gICAgY29uc3QgcHJldmlld0RhdGEgPSB7XHJcbiAgICAgIGxpbms6IHRoaXMuX2xpbmssXHJcbiAgICAgIHRpdGxlOiB0aGlzLl9uYW1lXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRoaXMuX2NhbGxiYWNrQ2xpY2tJbWFnZShwcmV2aWV3RGF0YSlcclxuICB9XHJcblxyXG4gIC8vINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdC8INGB0LvRg9GI0LDRgtC10LvQuCDRgdC+0LHRi9GC0LjQuVxyXG4gIF9zZXRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTGlrZUNhcmQuYmluZCh0aGlzKSlcclxuICAgIHRoaXMuX2ltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlUHJldmlld1BpY3R1cmUuYmluZCh0aGlzKSlcclxuICAgIGlmICh0aGlzLl9jYW5EZWxldGUpIHtcclxuICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZC5iaW5kKHRoaXMpKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g0JLQvtC30LLRgNCw0YnQsNC10YIg0LPQvtGC0L7QstGD0Y4g0LTQu9GPINCy0YHRgtCw0LLQutC4INC60LDRgNGC0L7Rh9C60YNcclxuICBnZXRDYXJkKCkge1xyXG4gICAgLy8g0JXRgdC70Lgg0LrQsNGA0YLQvtGH0LrQsCDQv9GA0LjQvdCw0LTQu9C10LbQuNGCINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjiwg0YLQviDQv9C+0LrQsNC20LXQvCDQutC90L7Qv9C60YMg0YPQtNCw0LvQtdC90LjRj1xyXG4gICAgaWYgKHRoaXMuX2NhbkRlbGV0ZSkge1xyXG4gICAgICB0aGlzLl9kZWxldGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnY2FyZF9fZGVsZXRlX2hpZGRlbicpXHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JfQsNC/0L7Qu9C90LjQvCDQt9Cw0LPQvtC70L7QstC+0Log0Lgg0LDQtNGA0LXRgSDQuNC30L7QsdGA0LDQttC10L3QuNGPXHJcbiAgICB0aGlzLl90aXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWVcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IHRoaXMuX2xpbmtcclxuICAgIHRoaXMuX2ltYWdlLmFsdCA9IHRoaXMuX25hbWVcclxuICAgIC8vINCV0YHQu9C4INC10YHRgtGMINC70LDQudC6INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gICAgaWYgKHRoaXMuX2lzTGlrZWQpIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidG5fdHlwZV9saWtlLWFjdGl2ZScpXHJcbiAgICB9XHJcbiAgICAvLyDQntGC0L7QsdGA0LDQttC10L3QuNC1INC60L7Qu9C40YfQtdGB0YLQstCwINC70LDQudC60L7QslxyXG4gICAgdGhpcy5yZW5kZXJDb3VudExpa2VzKHRoaXMuX2xpa2VzKVxyXG5cclxuICAgIHRoaXMuX3NldExpc3RlbmVycyh0aGlzLl9jYXJkRWxlbWVudClcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnRcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcmRcclxuIiwiLyog0JrQu9Cw0YHRgSDQstCw0LvQuNC00LDRhtC40Lgg0YTQvtGA0LzRiy5cclxuKiDQn9GA0LjQvdC40LzQsNC10YIg0L7QsdGK0LXQutGCINGBINGB0LXQu9C10LrRgtC+0YDQsNC80Lgg0Y3Qu9C10LzQtdC90YLQvtCyINCx0LvQvtC60LAg0YTQvtGA0LzRiy5cclxuKiDQktCw0LvQuNC00LDRhtC40Y8g0L/RgNC+0LLQvtC00LjRgtGB0Y8g0YHQvtCz0LvQsNGB0L3QviDRg9C60LDQt9Cw0L3QvdGL0Lwg0LDRgtGA0LjQsdGD0YLQsNC8INCyIGh0bWwg0YDQsNC30LzQtdGC0LrQtVxyXG4qICovXHJcblxyXG5jbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihzZWxlY3RvcnMsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50IC8vINCt0LvQtdC80LXQvdGCINGE0L7RgNC80YtcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNlbGVjdG9ycy5pbnB1dEVycm9yQ2xhc3MgLy8g0JzQvtC00LjRhNC40LrQsNGC0L7RgCDQv9C+0LvRjyDQstCy0L7QtNCwINGBINC90LXQstCw0LvQuNC00L3Ri9C8INC30L3QsNGH0LXQvdC40LXQvFxyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNlbGVjdG9ycy5lcnJvckNsYXNzIC8vINCc0L7QtNC40YTQuNC60LDRgtC+0YAg0LLQuNC00LjQvNC+0YHRgtC4INGN0LvQtdC80LXQvdGC0LAg0YEg0YLQtdC60YHRgtC+0Lwg0L7RiNC40LHQutC4XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2VsZWN0b3JzLmluYWN0aXZlQnV0dG9uQ2xhc3MgLy8g0JzQvtC00LjRhNC40LrQsNGC0L7RgCDQutC90L7Qv9C60Lgg0L7RgtC/0YDQsNCy0LrQuCDRhNC+0YDQvNGLXHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5zdWJtaXRCdXR0b25TZWxlY3RvcikgLy8g0JrQvdC+0L/QutCwINC+0YLQv9GA0LDQstC60Lgg0YTQvtGA0LzRi1xyXG4gICAgdGhpcy5faW5wdXRzID0gQXJyYXkuZnJvbShmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9ycy5pbnB1dFNlbGVjdG9yKSkgLy8g0J/QvtC70Y8g0LLQstC+0LTQsCDRhNC+0YDQvNGLXHJcbiAgfVxyXG5cclxuICAvLyDQn9C+0LrQsNC30LDRgtGMINC+0YjQuNCx0LrRg1xyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgY29uc3QgZXJyb3IgPSB0aGlzLl9nZXRFbGVtZW50RXJyb3IoaW5wdXQuaWQpIC8vINCd0LDRhdC+0LTQuNC8INCyINGE0L7RgNC80LUg0Y3Qu9C10LzQtdC90YIg0YLQtdC60YHRgtCwINC+0YjQuNCx0LrQuCDQvdGD0LbQvdC+0LPQviDQv9C+0LvRjyDQstCy0L7QtNCwXHJcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcylcclxuICAgIGVycm9yLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvci50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gIH1cclxuXHJcbiAgLy8g0KHQutGA0YvRgtGMINC+0YjQuNCx0LrRg1xyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgY29uc3QgZXJyb3IgPSB0aGlzLl9nZXRFbGVtZW50RXJyb3IoaW5wdXQuaWQpIC8vINCd0LDRhdC+0LTQuNC8INCyINGE0L7RgNC80LUg0Y3Qu9C10LzQtdC90YIg0YLQtdC60YHRgtCwINC+0YjQuNCx0LrQuCDQvdGD0LbQvdC+0LPQviDQv9C+0LvRjyDQstCy0L7QtNCwXHJcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcylcclxuICAgIGVycm9yLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvci50ZXh0Q29udGVudCA9ICcnO1xyXG4gIH1cclxuXHJcbiAgLy8g0JLQvtC30LLRgNCw0YnQsNC10YIg0Y3Qu9C10LzQtdC90YIg0YLQtdC60YHRgtCwINC+0YjQuNCx0LrQuFxyXG4gIF9nZXRFbGVtZW50RXJyb3IoaW5wdXRJZCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0SWR9LWVycm9yYClcclxuICB9XHJcblxyXG4gIC8vINCf0YDQvtCy0LXRgNGP0LXRgiDQstCw0LvQuNC00L3QvtGB0YLRjCDQv9C+0LvRjyDQstCy0L7QtNCwLiDQldGB0LvQuCDQt9C90LDRh9C10L3QuNC1INC90LXQstCw0LvQuNC00L3Qviwg0L/QvtC60LDQt9GL0LLQsNC10YIg0L7RiNC40LHQutGDXHJcbiAgX2NoZWNrVmFsaWRpdHkoaW5wdXQpIHtcclxuICAgICFpbnB1dC52YWxpZGl0eS52YWxpZFxyXG4gICAgICA/IHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0KVxyXG4gICAgICA6IHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KVxyXG4gIH1cclxuXHJcbiAgLy8g0J/RgNC+0LLQtdGA0Y/QtdGCINC/0L7Qu9GPINCy0LLQvtC00LAg0YTQvtGA0LzRiyDQuCDQstC+0LfQstGA0LDRidCw0LXRgiB0cnVlLCDQtdGB0LvQuCDRhdC+0YLRjCDQvtC00L3QviDQuNC3INC90LjRhSDQvdC10LLQsNC70LjQtNC90L5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0cy5zb21lKGlucHV0ID0+ICFpbnB1dC52YWxpZGl0eS52YWxpZClcclxuICB9XHJcblxyXG4gIC8vINCh0LzQtdC90LAg0YHQvtGB0YLQvtGP0L3QuNGPINC60L3QvtC/0LrQuCDQvtGC0L/RgNCw0LLQutC4INGE0L7RgNC80YtcclxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIC8vINCV0YHQu9C4INC10YHRgtGMINC90LXQstCw0LvQuNC00L3Ri9C1INC/0L7Qu9GPINCyINGE0L7RgNC80LUsINCx0LvQvtC60LjRgNGD0LXQvCDQutC90L7Qv9C60YNcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRzKSkge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKVxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKVxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g0KPRgdGC0LDQvdCw0LLQu9C40LLQsNC10YIg0YHQu9GD0YjQsNGC0LXQu9C4INGB0L7QsdGL0YLQuNC5XHJcbiAgX3NldExpc3RlbmVycygpIHtcclxuICAgIC8vINCh0LvRg9GI0LDRgtC10LvRjCDQstCy0L7QtNCwINC90LAg0LLRgdC1INC/0L7Qu9GPXHJcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCDQstCw0LvQuNC00LDRhtC40Y4g0L/QvtC70Y8g0LLQstC+0LTQsFxyXG4gICAgICAgIHRoaXMuX2NoZWNrVmFsaWRpdHkoaW5wdXQpXHJcbiAgICAgICAgLy8g0J3QsCDQutCw0LbQtNC+0Lwg0YHQvtCx0YvRgtC40Lgg0L7Qv9GA0LXQtNC10LvRj9C10Lwg0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuFxyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8vINCS0LrQu9GO0YfQtdC90LjQtSDQstCw0LvQuNC00LDRhtC40LhcclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpXHJcbiAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvciIsIi8qXG4qINCa0LvQsNGB0YEg0YHQvtC30LTQsNC90LjRjyDQstGB0L/Qu9GL0LLQsNGO0YnQtdCz0L4g0L7QutC90LBcbiogKi9cblxuZXhwb3J0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpXG4gICAgdGhpcy5fS0VZX0VTQyA9ICdFc2NhcGUnXG4gIH1cblxuICAvLyDQodC70YPRiNCw0YLQtdC70Ywg0LrQu9C40LrQsCDQv9C+INCy0YHQv9C70YvQstCw0Y7RidC10LzRgyDQvtC60L3Rg1xuICBfaGFuZGxlQ2xpY2tQb3B1cCh7dGFyZ2V0fSkge1xuICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdidG5fdHlwZV9jbG9zZScpIHx8IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwJykpIHtcbiAgICAgIHRoaXMuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIC8vINCh0LvRg9GI0LDRgtC10LvRjCDQvdCw0LbQsNGC0LjRjyDQvdCwINC60LvQsNCy0LjQsNGC0YPRgNGDXG4gIF9oYW5kbGVQcmVzc0VzYyh7a2V5fSkge1xuICAgIC8vINCV0YHQu9C4INC90LDQttCw0YLQsCDQutC90L7Qv9C60LAgRVNDINC90LDRhdC+0LTQuNC8INC+0YLQutGA0YvRgtC+0LUg0L7QutC90L4g0Lgg0LfQsNC60YDRi9Cy0LDQtdC8INC10LPQvlxuICAgIGlmIChrZXkgPT09IHRoaXMuX0tFWV9FU0MpIHtcbiAgICAgIHRoaXMuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIC8vINCd0LDQt9C90LDRh9Cw0LXQvCDRgdC70YPRiNCw0YLQtdC70LXQuSDRgdC+0LHRi9GC0LjQuVxuICBzZXRMaXN0ZW5lcnNQb3B1cCgpIHtcbiAgICAvLyDQkdC40L3QtNC40Lwg0LTQu9GPINGB0L7RhdGA0LDQvdC10L3QuNGPINC60L7QvdGC0LXQutGB0YLQsFxuICAgIHRoaXMuX2hhbmRsZUNsaWNrUG9wdXAgPSB0aGlzLl9oYW5kbGVDbGlja1BvcHVwLmJpbmQodGhpcylcbiAgICB0aGlzLl9oYW5kbGVQcmVzc0VzYyA9IHRoaXMuX2hhbmRsZVByZXNzRXNjLmJpbmQodGhpcylcblxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xpY2tQb3B1cCwgdHJ1ZSlcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlUHJlc3NFc2MpXG4gIH1cblxuICAvLyDQo9C00LDQu9GP0LXQvCDRgdC70YPRiNCw0YLQtdC70LXQuSDRgdC+0LHRi9GC0LjQuVxuICByZW1vdmVMaXN0ZW5lcnNQb3B1cCgpIHtcbiAgICB0aGlzLl9wb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrUG9wdXApXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZVByZXNzRXNjKVxuICB9XG5cbiAgLy8g0J/QvtC60LDQt9GL0LLQsNC10YIg0L7QutC90L5cbiAgb3BlbigpIHtcbiAgICB0aGlzLnNldExpc3RlbmVyc1BvcHVwKClcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKVxuICB9XG5cbiAgLy8g0JfQsNC60YDRi9Cy0LDQtdGCINC+0LrQvdC+XG4gIGNsb3NlKCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXJzUG9wdXAoKVxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpXG4gIH1cblxuICAvLyDQktC+0LfQstGA0LDRidCw0LXRgiDRjdC70LXQvNC10L3RgiDQstGB0L/Qu9GL0LLQsNGO0YnQtdCz0L4g0L7QutC90LBcbiAgZ2V0RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcG9wdXBcbiAgfVxufVxuIiwiaW1wb3J0IHtQb3B1cH0gZnJvbSAnLi9Qb3B1cCdcclxuXHJcbi8qKlxyXG4gKiBAY2xhc3NcclxuICogQGNsYXNzZGVzYyDQlNC+0YfQtdGA0L3QuNC5INC60LvQsNGB0YEg0LTQu9GPINGA0LDQsdC+0YLRiyDRgSDQstGB0L/Qu9GL0LLQsNGO0YnQuNC8INC+0LrQvdC+0Lwg0YHQvtC00LXRgNC20LDRidC40Lwg0YTQvtGA0LzRg1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwe1xyXG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yLCBjYWxsYmFja1N1Ym1pdCkge1xyXG4gICAgc3VwZXIoc2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHN1cGVyLmdldEVsZW1lbnQoKS5xdWVyeVNlbGVjdG9yKCcuZm9ybScpOyAvLyDQrdC70LXQvNC10L3RgiDRhNC+0YDQvNGLINCy0L3Rg9GC0YDQuCDQstGB0L/Qu9GL0LLQsNGO0YnQtdCz0L4g0L7QutC90LBcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignLmZvcm1fX3NhdmUnKTtcclxuICAgIHRoaXMuX2NiID0gY2FsbGJhY2tTdWJtaXQ7IC8vINCa0L7Qu9Cx0LXQuiDRgdC+0LHRi9GC0LjRjyDRgdCw0LHQvNC40YLQsFxyXG4gIH1cclxuXHJcbiAgLy8g0J/QvtC70YPRh9C10L3QuNC1INC00LDQvdC90YvRhSDQv9C+0LvQtdC5INCy0LLQvtC00LBcclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcclxuICAgIGNvbnN0IGlucHV0cyA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKSk7XHJcbiAgICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgIHZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0TG9hZGluZyhzdGF0ZSkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gc3RhdGUgPyAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nIDogJ9Ch0L7RhdGA0LDQvdC40YLRjCc7XHJcbiAgfVxyXG5cclxuICAvLyDQo9GB0YLQsNC90L7QstC60LAg0LfQvdCw0YfQtdC90LjQuSDQv9C+0LvQtdC5INCy0LLQvtC00LBcclxuICBzZXRJbml0VmFsdWVzKHZhbHVlcykge1xyXG4gICAgZm9yIChsZXQgdmFsdWUgaW4gdmFsdWVzKSB7XHJcbiAgICAgIGlmICh2YWx1ZXMuaGFzT3duUHJvcGVydHkodmFsdWUpKSB7XHJcbiAgICAgICAgY29uc3QgZWwgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC5mb3JtX19pbnB1dF90eXBlXyR7dmFsdWV9YClcclxuICAgICAgICBpZiAoZWwpIHtcclxuICAgICAgICAgIGVsLnZhbHVlID0gdmFsdWVzW3ZhbHVlXVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g0J7QsdGA0LDQsdC+0YLRh9C40Log0YHQsNCx0LzQuNGC0LAg0YTQvtGA0LzRi1xyXG4gIF9oYW5kbGVTdWJtaXRGb3JtKGV2dCkge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB0aGlzLnNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICAvLyDQstGL0LfRi9Cy0LDQtdC8INC60L7Qu9Cx0LXQuiDQuCDQv9C10YDQtdC00LDQtdC8INC00LDQvdC90YvQtSDRhNC+0YDQvNGLXHJcbiAgICB0aGlzLl9jYih0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICB9XHJcblxyXG4gIC8vINCj0YHRgtCw0L3QvtCy0LrQsCDRgdC70YPRiNCw0YLQtdC70Y8g0YHQsNCx0LzQuNGC0LBcclxuICBzZXRMaXN0ZW5lcnNQb3B1cCgpIHtcclxuICAgIHN1cGVyLnNldExpc3RlbmVyc1BvcHVwKCk7XHJcbiAgICAvLyDQsdC40L3QtCDQvNC10YLQvtC00LAg0L7QsdGA0LDQsdC+0YLRh9C40LrQsCDQtNC70Y8g0L/QtdGA0LXQtNCw0YfQuCDQtdCz0L4g0LIg0YPQtNCw0LvQtdC90LjQtSDRgdC70YPRiNCw0YLQtdC70LXQuVxyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSA9IHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm0uYmluZCh0aGlzKVxyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSk7XHJcbiAgfVxyXG5cclxuICAvLyDQo9C00LDQu9C10L3QuNC1INGB0LvRg9GI0LDRgtC10LvRjyDRgdCw0LHQvNC40YLQsFxyXG4gIHJlbW92ZUxpc3RlbmVyc1BvcHVwKCkge1xyXG4gICAgc3VwZXIucmVtb3ZlTGlzdGVuZXJzUG9wdXAoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JywgIHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm0pXHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICAvLyDQstGL0L/QvtC70L3QuNC8INGB0LHRgNC+0YEg0YTQvtGA0LzRiyDQv9C+0YHQu9C1INC30LDQutGA0YvRgtC40Y9cclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcbn0iLCIvKipcclxuICogQGNsYXNzXHJcbiAqIEBjbGFzc2Rlc2Mg0JrQu9Cw0YHRgSDRgdC+0LfQtNCw0L3QuNGPINGB0LXQutGG0LjQuFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3Ioe2l0ZW1zLCByZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zOyAvLyDQlNCw0L3QvdGL0LUg0LTQu9GPINC00LvRjyDQstGB0YLQsNCy0LrQuFxyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjsgLy8g0JrQvtC70LHQtdC6INC+0YLRgNC40YHQvtCy0LrQuFxyXG4gIH1cclxuXHJcbiAgc2V0SXRlbXMoaXRlbXMpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgfVxyXG5cclxuICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDRjdC70LXQvNC10L3RgtCwINCyINGB0LXQutGG0LjRjlxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyRWxlbWVudC5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgLy8g0J7RgtGA0LjRgdC+0LLQutCwINGN0LvQtdC80LXQvdGC0L7QsiDRgdC10LrRhtC40LhcclxuICByZW5kZXJFbGVtZW50cygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHtQb3B1cH0gZnJvbSAnLi9Qb3B1cC5qcydcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBjbGFzc2Rlc2Mg0JTQvtGH0LXRgNC90LjQuSDQutC70LDRgdGBINC00LvRjyDRgNCw0LHQvtGC0Ysg0YEg0LLRgdC/0LvRi9Cy0LDRjtGJ0LjQvCDQvtC60L3QvtC8INC/0YDQvtGB0LzQvtGC0YDQsCDQuNC30L7QsdGA0LDQttC10L3QuNGPXG4qL1xuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xuICAgIHN1cGVyKHNlbGVjdG9yKTtcbiAgICAvLyDQn9C+0LvRg9GH0LjQvCDQstC70L7QttC10L3QvdGL0LUg0Y3Qu9C10LzQtdC90YLRiyDQuNC30L7QsdGA0LDQttC10L3QuNGPINC4INC/0L7QtNC/0LjRgdC4XG4gICAgdGhpcy5faW1nUHJldmlldyA9IHN1cGVyLmdldEVsZW1lbnQoKS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJylcbiAgICB0aGlzLl9zaWduUHJldmlldyA9IHN1cGVyLmdldEVsZW1lbnQoKS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NpZ24nKVxuICB9XG5cbiAgLy8g0J/QtdGA0LXQvtC/0YDQtdC00LXQu9C10L3QuNC1INC80LXRgtC+0LTQsFxuICBvcGVuKHtsaW5rLCB0aXRsZX0pIHtcbiAgICAvLyDQn9GA0LjRgdCy0L7QuNC8INC/0L7Qu9GD0YfQtdC90L3Ri9C1INC30L3QsNGH0LXQvdC40Y9cbiAgICB0aGlzLl9pbWdQcmV2aWV3LnNyYyA9IGxpbmtcbiAgICB0aGlzLl9pbWdQcmV2aWV3LmFsdCA9IHRpdGxlXG4gICAgdGhpcy5fc2lnblByZXZpZXcudGV4dENvbnRlbnQgPSB0aXRsZVxuICAgIC8vINCS0YvQt9GL0LLQsNC10Lwg0LzQtdGC0L7QtCDRgNC+0LTQuNGC0LXQu9GPXG4gICAgc3VwZXIub3BlbigpXG4gIH1cbn1cbiIsIi8qKlxyXG4gKiBAY2xhc3NcclxuICogQGNsYXNzZGVzYyDQmtC70LDRgdGBINGD0L/RgNCw0LLQu9C10L3QuNGPINC00LDQvdC90YvQvNC4INC/0YDQvtGE0LjQu9GPXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9ycykge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLm5hbWUpXHJcbiAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzLmFib3V0KVxyXG4gICAgdGhpcy5fYXZhdGFyVXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMuYXZhdGFyKVxyXG4gICAgdGhpcy5faWQgPSBudWxsXHJcbiAgfVxyXG5cclxuICBnZXRJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pZFxyXG4gIH1cclxuXHJcbiAgLy8g0J/QvtC70YPRh9C40YLRjCDQtNCw0L3QvdGL0LUg0L/RgNC+0YTQuNC70Y9cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudCxcclxuICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXJVcmwuc3JjLFxyXG4gICAgICBfaWQ6IHRoaXMuX2lkXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDQo9GB0YLQsNC90L7QstC40YLRjCDQtNCw0L3QvdGL0LUg0L/RgNC+0YTQuNC70Y9cclxuICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lXHJcbiAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXRcclxuICAgIHRoaXMuX2F2YXRhclVybC5zcmMgPSBkYXRhLmF2YXRhclxyXG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZFxyXG4gIH1cclxufSIsImV4cG9ydCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX2ZldGNoKHVybCwgbWV0aG9kID0gJ0dFVCcsIGJvZHkgPSBudWxsKSB7XHJcbiAgICBjb25zdCBmZXRjaFVybCA9IGAke3RoaXMuX2Jhc2VVcmx9LyR7dXJsfWBcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgIG1ldGhvZCxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChib2R5KSB7XHJcbiAgICAgIG9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KGJvZHkpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZldGNoKGZldGNoVXJsLCBvcHRpb25zKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKCAhIHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHtcclxuICAgICAgICAgICAgc3RhdHVzQ29kZTogcmVzLnN0YXR1cyxcclxuICAgICAgICAgICAgbWVzc2FnZTogcmVzLnN0YXR1c1RleHRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0TWUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZmV0Y2goJ3VzZXJzL21lJylcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiB0aGlzLl9mZXRjaCgnY2FyZHMnKVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlUHJvZmlsZShkYXRhKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZmV0Y2goJ3VzZXJzL21lJywgJ1BBVENIJywgZGF0YSlcclxuICB9XHJcblxyXG4gIHBvc3RDYXJkKGNhcmQpIHtcclxuICAgIHJldHVybiB0aGlzLl9mZXRjaCgnY2FyZHMnLCAnUE9TVCcsIGNhcmQpXHJcbiAgfVxyXG5cclxuICBkZWxldGUoaWQpIHtcclxuICAgIHJldHVybiB0aGlzLl9mZXRjaChgY2FyZHMvJHtpZH1gLCAnREVMRVRFJylcclxuICB9XHJcblxyXG4gIGxpa2UoaWQsIGxpa2UgPSB0cnVlKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZmV0Y2goYGNhcmRzL2xpa2VzLyR7aWR9YCwgbGlrZSA/ICdQVVQnIDogJ0RFTEVURScpXHJcbiAgfVxyXG5cclxuICB1cGRhdGVBdmF0YXIoZGF0YSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2ZldGNoKGB1c2Vycy9tZS9hdmF0YXJgLCAnUEFUQ0gnLCBkYXRhKVxyXG4gIH1cclxufSIsImltcG9ydCB7UG9wdXBXaXRoSW1hZ2V9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnXHJcbmltcG9ydCB7VXNlckluZm99IGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8nXHJcbmltcG9ydCB7QXBpfSBmcm9tICcuL0FwaSdcclxuXHJcbi8vIEFQSSBiYWNrZW5kXHJcbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0yMScsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogJzUyMTg2YzkwLTBhZTUtNDViYi05OWI1LWU0YWNhYTJiOTM5ZicsXHJcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gIH1cclxufSlcclxuXHJcbi8vINCh0LXQu9C10LrRgtC+0YDRi1xyXG5leHBvcnQgY29uc3Qgc2VsZWN0b3JzID0ge1xyXG4gIGNhcmRzTGlzdDogJy5jYXJkc19fbGlzdCcsIC8vINGB0L/QuNGB0L7QuiDQutCw0YDRgtC+0YfQtdC6XHJcbiAgY2FyZFRlbXBsYXRlOiAnI2NhcmRUZW1wbGF0ZScsIC8vINGI0LDQsdC70L7QvSDQutCw0YDRgtC+0YfQutC4XHJcbiAgcG9wdXBBZGRDYXJkOiAnLnBvcHVwX3R5cGVfYWRkLWNhcmQnLCAvLyDQstGB0L/Qu9GL0LLQsNGO0YnQtdC1INC+0LrQvdC+INC00L7QsdCw0LLQu9C10L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxyXG4gIHBvcHVwRWRpdFByb2ZpbGU6ICcucG9wdXBfdHlwZV9lZGl0LXByb2ZpbGUnLCAvLyDQstGB0L/Qu9GL0LLQsNGO0YnQtdC1INC+0LrQvdC+INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LjQvdGE0L7RgNC80LDRhtC40LhcclxuICBwb3B1cERlbGV0ZUNhcmQ6ICcucG9wdXBfdHlwZV9kZWxldGUnLCAvLyDQstGB0L/Qu9GL0LLQsNGO0YnQtdC1INC+0LrQvdC+INGD0LLQtdC00L7QvNC70LXQvdC40Y8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbiAgcG9wdXBVcGRhdGVBdmF0YXI6ICcucG9wdXBfdHlwZV91cGRhdGUtcHJvZmlsZScsIC8vINCy0YHQv9C70YvQstCw0Y7RidC10LUg0L7QutC90L4g0YTQvtGA0LzRiyDQvtCx0L3QvtCy0LvQtdC90LjRjyDQsNCy0LDRgtCw0YDQsFxyXG4gIHZhbGlkYXRlT3B0aW9uczoge1xyXG4gICAgaW5wdXRTZWxlY3RvcjogJy5mb3JtX19pbnB1dCcsIC8vINCf0L7Qu9C1INCy0LLQvtC00LBcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLmZvcm1fX3NhdmUnLCAvLyDQmtC90L7Qv9C60LAg0L7RgtC/0YDQsNCy0LrQuCDRhNC+0YDQvNGLXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAnZm9ybV9fc2F2ZV9kaXNhYmxlZCcsIC8vINCc0L7QtNC40YTQuNC60LDRgtC+0YAg0LrQvdC+0L/QutC4INC+0YLQv9GA0LDQstC60Lgg0YTQvtGA0LzRi1xyXG4gICAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybV9faW5wdXRfdHlwZV9lcnJvcicsIC8vINCc0L7QtNC40YTQuNC60LDRgtC+0YAg0L/QvtC70Y8g0LLQstC+0LTQsCDRgSDQvdC10LLQsNC70LjQtNC90YvQvCDQt9C90LDRh9C10L3QuNC10LxcclxuICAgIGVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dC1lcnJvcl92aXNpYmxlJyAvLyDQnNC+0LTQuNGE0LjQutCw0YLQvtGAINCy0LjQtNC40LzQvtGB0YLQuCDRjdC70LXQvNC10L3RgtCwINGBINGC0LXQutGB0YLQvtC8INC+0YjQuNCx0LrQuFxyXG4gIH0gLy8g0KHQtdC70LXQutGC0L7RgNGLINGN0LvQtdC80LXQvdGC0L7QsiDRhNC+0YDQvNGLINC00LvRjyDQstCw0LvQuNC00LDRhtC40LhcclxufVxyXG5cclxuLy8g0JrQu9Cw0YHRgdGLXHJcbmV4cG9ydCBjb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7bmFtZTogJy5wcm9maWxlX19uYW1lJywgYWJvdXQ6ICcucHJvZmlsZV9fYWJvdXQnLCBhdmF0YXI6ICcucHJvZmlsZV9fYXZhdGFyJ30pIC8vINCY0L3RhNC+0YDQvNCw0YbQuNGPINC/0YDQvtGE0LjQu9GPXHJcbmV4cG9ydCBjb25zdCBwb3B1cFByZXZpZXdQaWN0dXJlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfdHlwZV9pbWFnZScpIC8vINCS0YHQv9C70YvQstCw0Y7RidC10LUg0L7QutC90L4g0YEg0LjQt9C+0LHRgNCw0LbQtdC90LjQtdC8XHJcblxyXG4vLyDQrdC70LXQvNC10L3RgtGLXHJcbmV4cG9ydCBjb25zdCBidXR0b25FZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG5fdHlwZV9lZGl0LXByb2ZpbGUnKSAvLyDQmtC90L7Qv9C60LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xyXG5leHBvcnQgY29uc3QgYnV0dG9uQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG5fdHlwZV9hZGQtY2FyZCcpIC8vINCa0L3QvtC/0LrQsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LhcclxuZXhwb3J0IGNvbnN0IGF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXItd3JhcHBlcicpIC8vINCQ0LLQsNGC0LDRgCIsImltcG9ydCB7UG9wdXB9IGZyb20gJy4vUG9wdXAnXHJcbi8qKlxyXG4gKiBAY2xhc3NcclxuICogQGNsYXNzZGVzYyDQlNC+0YfQtdGA0L3QuNC5INC60LvQsNGB0YEg0LTQu9GPINGA0LDQsdC+0YLRiyDRgSDQstGB0L/Qu9GL0LLQsNGO0YnQuNC8INC+0LrQvdC+0Lwg0YHQvtC00LXRgNC20LDRidC40Lwg0LfQsNC/0YDQvtGBINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybSBleHRlbmRzIFBvcHVwe1xyXG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yLCBjYWxsYmFjaykge1xyXG4gICAgc3VwZXIoc2VsZWN0b3IpXHJcbiAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrXHJcbiAgICB0aGlzLl9mb3JtID0gc3VwZXIuZ2V0RWxlbWVudCgpLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJylcclxuICAgIHRoaXMuX2lkRWxlbWVudCA9IHN1cGVyLmdldEVsZW1lbnQoKS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faW5wdXRfdHlwZV9pZCcpXHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSBzdXBlci5nZXRFbGVtZW50KCkucXVlcnlTZWxlY3RvcignLmZvcm1fX3NhdmUnKVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVN1Ym1pdEZvcm0oZXZ0KSB7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKVxyXG4gICAgY29uc3QgaWQgPSB0aGlzLl9mb3JtLmVsZW1lbnRzLmlkLnZhbHVlXHJcbiAgICB0aGlzLl9jYWxsYmFjayhpZCwgdGhpcy5fbGlzdEl0ZW0pXHJcbiAgfVxyXG5cclxuICBzZXRMb2FkaW5nKHN0YXRlKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBzdGF0ZSA/ICfQo9C00LDQu9C10L3QuNC1Li4uJyA6ICfQlNCwJ1xyXG4gIH1cclxuXHJcbiAgc2V0TGlzdGVuZXJzUG9wdXAoKSB7XHJcbiAgICBzdXBlci5zZXRMaXN0ZW5lcnNQb3B1cCgpO1xyXG5cclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm0gPSB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtLmJpbmQodGhpcylcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSlcclxuICB9XHJcblxyXG4gIG9wZW4oaWQsIGxpc3RJdGVtKSB7XHJcbiAgICB0aGlzLl9pZEVsZW1lbnQudmFsdWUgPSBpZFxyXG4gICAgdGhpcy5fbGlzdEl0ZW0gPSBsaXN0SXRlbVxyXG4gICAgc3VwZXIub3BlbigpXHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKVxyXG4gICAgdGhpcy5fbGlzdEl0ZW0gPSBudWxsXHJcbiAgICBzdXBlci5jbG9zZSgpXHJcbiAgfVxyXG59IiwiaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkJ1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3InXHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybSdcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uJ1xyXG5pbXBvcnQge1xyXG5cdHVzZXJJbmZvLFxyXG5cdHBvcHVwUHJldmlld1BpY3R1cmUsXHJcblx0c2VsZWN0b3JzLFxyXG5cdGJ1dHRvbkFkZENhcmQsXHJcblx0YnV0dG9uRWRpdFByb2ZpbGUsXHJcblx0YXZhdGFyLFxyXG5cdGFwaSxcclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnXHJcbmltcG9ydCAnLi9pbmRleC5jc3MnXHJcbmltcG9ydCB7UG9wdXBXaXRoQ29uZmlybX0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtJ1xyXG5cclxuLy8gQ2FsbGJhY2sg0L7QsdGA0LDQsdC+0YLRh9C40LrQsCDQutC70LjQutCwINC90LAg0LjQt9C+0LHRgNCw0LbQtdC90LjQtVxyXG5jb25zdCBvcGVuUHJldmlld1BpY3R1cmUgPSAoZGF0YSkgPT4gcG9wdXBQcmV2aWV3UGljdHVyZS5vcGVuKGRhdGEpXHJcblxyXG4vLyBDYWxsYmFjayDQvtCx0YDQsNCx0L7RgtGH0LjQutCwINC60LvQuNC60LAg0L3QsCDQuNC60L7QvdC60YMg0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IG9wZW5Db25maXJtRGVsZXRlID0gKGlkLCBsaXN0SXRlbSkgPT4gcG9wdXBXaWR0aENvbmZpcm0ub3BlbihpZCwgbGlzdEl0ZW0pXHJcblxyXG4vLyDQntCx0YDQsNCx0L7RgtGH0LjQuiDQutC70LjQutCwINC90LAg0LrQvdC+0L/QutGDINC+0YLQutGA0YvRgtC40Y8g0LLRgdC/0LvRi9Cy0LDRjtGJ0LXQs9C+INC+0LrQvdCwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cclxuY29uc3Qgb3BlbkVkaXRQcm9maWxlID0gKCkgPT4ge1xyXG5cdHBvcHVwRWRpdFByb2ZpbGUuc2V0SW5pdFZhbHVlcyh1c2VySW5mby5nZXRVc2VySW5mbygpKVxyXG5cdHZhbGlkYXRvckVkaXRQcm9maWxlLnRvZ2dsZUJ1dHRvblN0YXRlKClcclxuXHRwb3B1cEVkaXRQcm9maWxlLm9wZW4oKVxyXG59XHJcblxyXG4vLyDQntCx0YDQsNCx0L7RgtGH0LjQuiDQutC70LjQutCwINC90LAg0LrQvdC+0L/QutGDINC+0YLQutGA0YvRgtC40Y8g0LLRgdC/0LvRi9Cy0LDRjtGJ0LXQs9C+INC+0LrQvdCwINC00L7QsdCw0LLQu9C10L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBvcGVuQWRkQ2FyZCA9ICgpID0+IHtcclxuXHR2YWxpZGF0b3JBZGRGb3JtLnRvZ2dsZUJ1dHRvblN0YXRlKCkgLy8g0JLRi9C/0L7Qu9C90Y/QtdGC0YHRjyDRgdCx0YDQvtGBINGB0L7RgdGC0L7Rj9C90LjRjyDQutC90L7Qv9C60LhcclxuXHRwb3B1cEFkZENhcmQub3BlbigpXHJcbn1cclxuXHJcbi8vINCe0LHRgNCw0LHQvtGC0YfQuNC6INC60LvQuNC60LAg0L3QsCDQsNCy0LDRgtCw0YBcclxuY29uc3Qgb3BlblVwZGF0ZUF2YXRhciA9ICgpID0+IHtcclxuXHR2YWxpZGF0b3JVcGRhdGVBdmF0YXIudG9nZ2xlQnV0dG9uU3RhdGUoKVxyXG5cdHBvcHVwVXBkYXRlQXZhdGFyLm9wZW4oKVxyXG59XHJcblxyXG4vLyDQntCx0YDQsNCx0L7RgtGH0LjQuiDRgdC+0LHRi9GC0LjRjyDQvtGC0L/RgNCw0LLQutC4INGE0L7RgNC80Ysg0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGhhbmRsZUNvbmZpcm1EZWxldGUgPSAoaWQsIGxpc3RJdGVtKSA9PiB7XHJcblx0cG9wdXBXaWR0aENvbmZpcm0uc2V0TG9hZGluZyh0cnVlKVxyXG5cdGFwaS5kZWxldGUoaWQpXHJcblx0XHQudGhlbigoKSA9PiB7XHJcblx0XHRcdGxpc3RJdGVtLnJlbW92ZSgpXHJcblx0XHRcdHBvcHVwV2lkdGhDb25maXJtLmNsb3NlKClcclxuXHRcdH0pXHJcblx0XHQuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcclxuXHRcdC5maW5hbGx5KCgpID0+IHBvcHVwV2lkdGhDb25maXJtLnNldExvYWRpbmcoZmFsc2UpKVxyXG59XHJcblxyXG4vLyDQntCx0YDQsNCx0L7RgtGH0LjQuiDRgdC+0LHRi9GC0LjRjyDQvtGC0L/RgNCw0LLQutC4INGE0L7RgNC80Ysg0LTQvtCx0LDQstC70LXQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4LiDQlNC+0LHQsNCy0LvRj9C10YIg0L3QvtCy0YPRjiDQsiDQvdCw0YfQsNC70L4g0YHQtdC60YbQuNC4XHJcbmNvbnN0IGhhbmRsZUFkZENhcmRGb3JtU3VibWl0ID0gKHZhbHVlcykgPT4ge1xyXG5cdGFwaS5wb3N0Q2FyZCh2YWx1ZXMpXHJcblx0XHQudGhlbigobmV3Q2FyZCkgPT4ge1xyXG5cdFx0XHRjYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQobmV3Q2FyZCkpXHJcblx0XHRcdHBvcHVwQWRkQ2FyZC5jbG9zZSgpXHJcblx0XHR9KVxyXG5cdFx0LmNhdGNoKChlcnIpID0+IHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihlcnIubWVzc2FnZSB8fCBlcnIudG9TdHJpbmcoKSlcclxuXHRcdH0pXHJcblx0XHQuZmluYWxseSgoKSA9PiB7XHJcblx0XHRcdHBvcHVwQWRkQ2FyZC5zZXRMb2FkaW5nKGZhbHNlKVxyXG5cdFx0fSlcclxufVxyXG5cclxuLy8g0J7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8g0L7RgtC/0YDQsNCy0LrQuCDRhNC+0YDQvNGLINC+0LHQvdC+0LLQu9C10L3QuNGPINCw0LLQsNGC0LDRgNCwXHJcbmNvbnN0IGhhbmRsZVVwZGF0ZUF2YXRhclN1Ym1pdCA9ICh2YWx1ZXMpID0+IHtcclxuXHRhcGkudXBkYXRlQXZhdGFyKHZhbHVlcylcclxuXHRcdC50aGVuKHJlcyA9PiB7XHJcblx0XHRcdHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcylcclxuXHRcdFx0cG9wdXBVcGRhdGVBdmF0YXIuY2xvc2UoKVxyXG5cdFx0fSlcclxuXHRcdC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihlcnIpKVxyXG5cdFx0LmZpbmFsbHkoKCkgPT4gcG9wdXBVcGRhdGVBdmF0YXIuc2V0TG9hZGluZyhmYWxzZSkpXHJcbn1cclxuXHJcbi8vINCe0LHRgNCw0LHQvtGC0YfQuNC6INGB0L7QsdGL0YLQuNGPINC+0YLQv9GA0LDQstC60Lgg0YTQvtGA0LzRiyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPLiDQo9GB0YLQsNC90LDQstC70LjQstCw0LXRgiDQtNCw0L3QvdGL0LUg0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQgPSAodmFsdWVzKSA9PiB7XHJcblx0YXBpLnVwZGF0ZVByb2ZpbGUodmFsdWVzKVxyXG5cdFx0LnRoZW4oKG5ld0RhdGEpID0+IHtcclxuXHRcdFx0dXNlckluZm8uc2V0VXNlckluZm8obmV3RGF0YSlcclxuXHRcdFx0cG9wdXBFZGl0UHJvZmlsZS5jbG9zZSgpXHJcblx0XHR9KVxyXG5cdFx0LmNhdGNoKChlcnIpID0+IHtcclxuXHRcdFx0Y29uc29sZS5lcnJvcihlcnIubWVzc2FnZSB8fCBlcnIudG9TdHJpbmcoKSlcclxuXHRcdH0pXHJcblx0XHQuZmluYWxseSgoKSA9PiB7XHJcblx0XHRcdHBvcHVwRWRpdFByb2ZpbGUuc2V0TG9hZGluZyhmYWxzZSlcclxuXHRcdH0pXHJcbn1cclxuXHJcbi8vINCe0LHRgNCw0LHQvtGC0YfQuNC6INC60LvQuNC60LAg0L3QsCDQutC90L7Qv9C60YMg0LvQsNC50LpcclxuY29uc3QgaGFuZGxlQ2xpY2tMaWtlID0gKHtpZCwgaXNMaWtlZH0sIGNhcmRBcGkpID0+IHtcclxuXHRhcGkubGlrZShpZCwgIWlzTGlrZWQpXHJcblx0ICAudGhlbigoe2xpa2VzfSkgPT4ge1xyXG5cdFx0ICBjYXJkQXBpLnRvZ2dsZUxpa2UoKVxyXG5cdCAgICBjYXJkQXBpLnJlbmRlckNvdW50TGlrZXMobGlrZXMpXHJcblx0ICB9KVxyXG5cdCAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKGVycikpXHJcbn1cclxuXHJcbi8vINCh0L7Qt9C00LDQtdGCINC90L7QstGD0Y4g0LrQsNGA0YLQvtGH0LrRgyDQutCw0YDRgtC+0YfQutGDXHJcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoY2FyZERhdGEpID0+IHtcclxuXHRjb25zdCBjYXJkID0gbmV3IENhcmQoY2FyZERhdGEsIHNlbGVjdG9ycy5jYXJkVGVtcGxhdGUsIHtcclxuXHRcdHVzZXJJZDogdXNlckluZm8uZ2V0SWQoKSxcclxuXHRcdGhhbmRsZUNsaWNrSW1hZ2U6IG9wZW5QcmV2aWV3UGljdHVyZSxcclxuXHRcdGhhbmRsZUNsaWNrRGVsZXRlOiBvcGVuQ29uZmlybURlbGV0ZSxcclxuXHRcdGhhbmRsZUNsaWNrTGlrZVxyXG5cdH0pXHJcblx0cmV0dXJuIGNhcmQuZ2V0Q2FyZCgpXHJcbn1cclxuXHJcbi8vINCS0LrQu9GO0YfQsNC10YIg0LLQsNC70LjQtNCw0YbQuNGOINGE0L7RgNC80YtcclxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChwb3B1cCwgb3B0aW9ucykgPT4ge1xyXG5cdGNvbnN0IGZvcm0gPSBwb3B1cC5nZXRFbGVtZW50KCkucXVlcnlTZWxlY3RvcignLmZvcm0nKVxyXG5cdGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKG9wdGlvbnMsIGZvcm0pXHJcblx0dmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKVxyXG5cdHJldHVybiB2YWxpZGF0b3JcclxufVxyXG5cclxuLy8g0KHQvtC30LTQsNC10Lwg0L7QsdGK0LXQutGCINGB0LXQutGG0LjQuCDRgdGC0LDRgNGC0L7QstGL0YUg0LrQsNGA0YLQvtGH0LXQulxyXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKHtcclxuXHRyZW5kZXJlcjogKGl0ZW0pID0+IHtcclxuXHRcdGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGl0ZW0pXHJcblx0XHRjYXJkTGlzdC5hZGRJdGVtKGNhcmQpXHJcblx0fVxyXG59LCBzZWxlY3RvcnMuY2FyZHNMaXN0KVxyXG5cclxuLy8g0KHQvtC30LTQsNC10Lwg0L7QsdGK0LXQutGC0Ysg0LLRgdC/0LvRi9Cy0LDRjtGJ0LXQs9C+INC+0LrQvdCwINGBINGE0L7RgNC80L7QuVxyXG5jb25zdCBwb3B1cEFkZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShzZWxlY3RvcnMucG9wdXBBZGRDYXJkLCBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdClcclxuY29uc3QgcG9wdXBFZGl0UHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKHNlbGVjdG9ycy5wb3B1cEVkaXRQcm9maWxlLCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdClcclxuY29uc3QgcG9wdXBVcGRhdGVBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShzZWxlY3RvcnMucG9wdXBVcGRhdGVBdmF0YXIsIGhhbmRsZVVwZGF0ZUF2YXRhclN1Ym1pdClcclxuY29uc3QgcG9wdXBXaWR0aENvbmZpcm0gPSBuZXcgUG9wdXBXaXRoQ29uZmlybShzZWxlY3RvcnMucG9wdXBEZWxldGVDYXJkLCBoYW5kbGVDb25maXJtRGVsZXRlKVxyXG5cclxuLy8g0JLQutC70Y7Rh9Cw0LXQvCDQstCw0LvQuNC00LDRhtC40Y5cclxuY29uc3QgdmFsaWRhdG9yQWRkRm9ybSA9IGVuYWJsZVZhbGlkYXRpb24ocG9wdXBBZGRDYXJkLCBzZWxlY3RvcnMudmFsaWRhdGVPcHRpb25zKVxyXG5jb25zdCB2YWxpZGF0b3JFZGl0UHJvZmlsZSA9IGVuYWJsZVZhbGlkYXRpb24ocG9wdXBFZGl0UHJvZmlsZSwgc2VsZWN0b3JzLnZhbGlkYXRlT3B0aW9ucylcclxuY29uc3QgdmFsaWRhdG9yVXBkYXRlQXZhdGFyID0gZW5hYmxlVmFsaWRhdGlvbihwb3B1cFVwZGF0ZUF2YXRhciwgc2VsZWN0b3JzLnZhbGlkYXRlT3B0aW9ucylcclxuXHJcbi8vINCX0LDQs9GA0YPQt9C60LAg0LTQsNC90L3Ri9GFINC/0YDQvtGE0LjQu9GPINC4INGB0L/QuNGB0LrQsCDQutCw0YDRgtC+0YfQtdC6XHJcblByb21pc2UuYWxsKFtcclxuXHRhcGkuZ2V0TWUoKSxcclxuXHRhcGkuZ2V0SW5pdGlhbENhcmRzKClcclxuXSlcclxuXHQudGhlbigoW3VzZXJEYXRhLCBpbml0aWFsQ2FyZHNdKSA9PiB7XHJcblx0XHR1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSlcclxuXHRcdGNhcmRMaXN0LnNldEl0ZW1zKGluaXRpYWxDYXJkcy5yZXZlcnNlKCkpXHJcblx0XHRjYXJkTGlzdC5yZW5kZXJFbGVtZW50cygpXHJcblx0fSlcclxuXHQuY2F0Y2goKGVycikgPT4ge1xyXG5cdFx0Y29uc29sZS5lcnJvcihlcnIubWVzc2FnZSlcclxuXHR9KVxyXG5cclxuLy8g0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0YHQu9GD0YjQsNGC0LXQu9C10Lkg0YHQvtCx0YvRgtC40LlcclxuYnV0dG9uRWRpdFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRWRpdFByb2ZpbGUpXHJcbmJ1dHRvbkFkZENhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWRkQ2FyZClcclxuYXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblVwZGF0ZUF2YXRhcilcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==